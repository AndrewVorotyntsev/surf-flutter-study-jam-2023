# Целевая платформа

[здесь вставьте платформу/платформы под которые вы разрабатывали, это поможет нам при проверке заданий]
Android

# Результаты

Был реализован экран хранилища билетов. Вверху экрана находится аппбар. 
У экрана есть два состояния - 
- заглушка в виде текста по центру экрана в случае, если пользователь еще не добавил билеты
- и список билетов, которые представлены в виде карточек.

Внизу экрана находится кнопка, которая позволяет добавлять новые билеты. Она исчезает с экрана, когда пользователь пролистывает до конца списка. При нажатии на нее открывает окно, в котором необходимо ввести название и ссылку на билет. Поле со ссылкой валидируется с помощью регулярного выражения. Под полем выводится сообщение об ошибке валидации. Кнопка для добавления доступна для нажатия только тогда, когда введена корректная ссылка. После нажатия но нее билет добавляется в локальную базу данных и отображается на экране. В то же время добавляется снекбар, оповещающий об успехе добавления.

Виджет билета содержит название билета, индикатор загрузки и кнопку в виде иконки. После добавления и до того как файл не будет загружен будет показан статус "Ожидает начала загрузки". 
Нажатие на иконку справка начинает загрузку. После этого виджет линейного индикатора ~~показывает прогресс~~ (не в финальной версии, см. Известные проблемы), а также под ним отображается информация о объеме загруженой части и общего объема файла в мегабайтах. В это время иконка кнопки меняется на иконку паузы (но пауза и остановка загрузки не реализована).

После загрузки статус меняется на "Загружено" и иконка меняется на изображение файла. Нажатие на нее открывает отдельный экран, на котором отображется сохраненный файл PDF. В аппбаре этого экрана есть кнопка, которая возвращает на предыдущий экран. Контент PDF можно увеличивать с помощью жестов и пролистывать, если он многостраничный.

Все билеты хранятся в локальном хранилище и сохраняются после перезахода в приложение. Загруженные файлы также хранятся на устройстве и нет необходимости загружать их заново.

Билеты можно удалить из локального хранилища с помощью свайпа. Если предварительно был загружен файл, он также будет удален из файловой системы.

Список билетов всегда отсортирован в порядке добавления.

# Ссылки на демонстрацию работы/скриншоты



# Известные проблемы

В финальной версии некорректно работает виджет линейного индикатора прогресса.
В ранней версии (в одном из предыдущих комитах) он работал нормально, но в одной из последних правок была допущена ошибка (некорректная проверка на null) в написании геттера для значения прогресса
Файл `download_helper.dart` строка

double get progress => count != null && total != ~~total~~ null ? count! / total! : 0;
